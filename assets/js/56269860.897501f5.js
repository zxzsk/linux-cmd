"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[9775],{173:n=>{n.exports=JSON.parse('{"permalink":"/blog/2025/03/17/\u6c38\u4e45URL","editUrl":"https://github.com/zxzsk/linux-cmd/blog/2025-03-17-\u6c38\u4e45URL.md","source":"@site/blog/2025-03-17-\u6c38\u4e45URL.md","title":"\u6c38\u4e45URL","description":"\u4f7f\u7528\u811a\u672c\u751f\u6210\u6c38\u4e45URL","date":"2025-03-17T00:00:00.000Z","tags":[],"readingTime":1.935,"hasTruncateMarker":false,"authors":[],"frontMatter":{},"unlisted":false,"nextItem":{"title":"\u5df2\u6536\u5f55\u547d\u4ee4\u7edf\u8ba1","permalink":"/blog/2025/03/15/\u5df2\u6536\u5f55\u547d\u4ee4\u7edf\u8ba1"}}')},2937:(n,t,e)=>{e.r(t),e.d(t,{assets:()=>c,contentTitle:()=>i,default:()=>u,frontMatter:()=>a,metadata:()=>r,toc:()=>l});var r=e(173),s=e(4848),o=e(8453);const a={},i=void 0,c={authorsImageUrls:[]},l=[];function d(n){const t={code:"code",p:"p",pre:"pre",...(0,o.R)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.p,{children:"\u4f7f\u7528\u811a\u672c\u751f\u6210\u6c38\u4e45URL"}),"\n",(0,s.jsxs)(t.p,{children:["\u521b\u5efa\u4ee5\u4e0b\u811a\u672c\uff0c\u5e76\u8fd0\u884c ",(0,s.jsx)(t.code,{children:"node scripts/generateSlug.js"})," \u7ed9\u6240\u6709\u6587\u7ae0\u751f\u6210 slug \u3002"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",metastring:'title="\u9879\u76ee\u6839\u76ee\u5f55/scripts/generateSlug.js"',children:"const fs = require('fs');\nconst path = require('path');\nconst crypto = require('crypto');\nconst matter = require('gray-matter');\n\n/**\n * \u751f\u6210\u4e00\u4e2a8\u4f4d\u957f\u5ea6\u7684\u968f\u673aslug\n * @returns {string} 8\u4f4d\u968f\u673a\u5341\u516d\u8fdb\u5236\u5b57\u7b26\u4e32\n */\nfunction generateSlug() {\n  return crypto.randomBytes(4).toString('hex');\n}\n\n/**\n * \u5904\u7406\u5355\u4e2a Markdown \u6587\u4ef6\uff1a\n * 1. \u89e3\u6790\u6587\u4ef6\u4e2d\u7684 front matter\n * 2. \u5982\u679c\u524d\u7f6e\u6570\u636e\u4e2d\u6ca1\u6709 slug\uff0c\u5219\u751f\u6210\u5e76\u6dfb\u52a0\n * 3. \u5c06\u4fee\u6539\u540e\u7684\u5185\u5bb9\u5199\u56de\u6587\u4ef6\n *\n * @param {string} filePath \u6587\u4ef6\u7684\u5b8c\u6574\u8def\u5f84\n */\nfunction processMarkdownFile(filePath) {\n  // \u8bfb\u53d6 Markdown \u6587\u4ef6\u5185\u5bb9\n  const fileContent = fs.readFileSync(filePath, 'utf8');\n  // \u4f7f\u7528 gray-matter \u89e3\u6790 front matter \u548c\u6b63\u6587\u5185\u5bb9\n  const parsed = matter(fileContent);\n  \n  // \u5982\u679c front matter \u5bf9\u8c61\u4e2d\u6ca1\u6709 slug \u5b57\u6bb5\uff0c\u5219\u6dfb\u52a0\n  if (!parsed.data.slug) {\n    const newSlug = `/${generateSlug()}`;\n    parsed.data.slug = newSlug;\n    console.log(`\u4e3a\u6587\u4ef6 ${filePath} \u751f\u6210\u65b0\u7684 slug: ${newSlug}`);\n    // \u901a\u8fc7 gray-matter \u91cd\u65b0\u6784\u9020 Markdown \u5185\u5bb9\uff08\u5305\u542b\u65b0\u7684 front matter\uff09\n    const newContent = matter.stringify(parsed.content, parsed.data);\n    // \u5c06\u65b0\u7684\u5185\u5bb9\u5199\u56de\u5230\u6e90\u6587\u4ef6\n    fs.writeFileSync(filePath, newContent, 'utf8');\n  }\n}\n\n/**\n * \u9012\u5f52\u904d\u5386\u6307\u5b9a\u76ee\u5f55\uff0c\u5904\u7406\u6240\u6709 Markdown \u6587\u4ef6\uff08\u652f\u6301 .md \u548c .mdx \u540e\u7f00\uff09\n *\n * @param {string} dirPath \u76ee\u5f55\u8def\u5f84\n */\nfunction processDirectory(dirPath) {\n  const entries = fs.readdirSync(dirPath, { withFileTypes: true });\n  for (const entry of entries) {\n    const fullPath = path.join(dirPath, entry.name);\n    if (entry.isDirectory()) {\n      // \u5982\u679c\u662f\u76ee\u5f55\uff0c\u5219\u9012\u5f52\u5904\u7406\n      processDirectory(fullPath);\n    } else if (entry.isFile() && (entry.name.endsWith('.md') || entry.name.endsWith('.mdx'))) {\n      // \u5982\u679c\u662f Markdown \u6587\u4ef6\uff0c\u8c03\u7528\u5904\u7406\u51fd\u6570\n      processMarkdownFile(fullPath);\n    }\n  }\n}\n\n// \u6307\u5b9a docs \u76ee\u5f55\u6240\u5728\u8def\u5f84\uff08\u76f8\u5bf9\u4e8e\u811a\u672c\u4f4d\u7f6e\uff09\nconst docsPath = path.join(__dirname, '../docs');\n// \u5f00\u59cb\u5904\u7406 docs \u76ee\u5f55\u4e0b\u7684\u6240\u6709 Markdown \u6587\u4ef6\nprocessDirectory(docsPath);\n"})})]})}function u(n={}){const{wrapper:t}={...(0,o.R)(),...n.components};return t?(0,s.jsx)(t,{...n,children:(0,s.jsx)(d,{...n})}):d(n)}},8453:(n,t,e)=>{e.d(t,{R:()=>a,x:()=>i});var r=e(6540);const s={},o=r.createContext(s);function a(n){const t=r.useContext(o);return r.useMemo((function(){return"function"==typeof n?n(t):{...t,...n}}),[t,n])}function i(n){let t;return t=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:a(n.components),r.createElement(o.Provider,{value:t},n.children)}}}]);
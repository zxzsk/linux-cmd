"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[2501],{6143:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>t,contentTitle:()=>r,default:()=>o,frontMatter:()=>i,metadata:()=>d,toc:()=>h});const d=JSON.parse('{"id":"\u6587\u4ef6\u7cfb\u7edf/mkfs","title":"mkfs","description":"\u2b50\u521b\u5efa\u6587\u4ef6\u7cfb\u7edf\u3001\u683c\u5f0f\u5316","source":"@site/docs/60-\u6587\u4ef6\u7cfb\u7edf/mkfs.md","sourceDirName":"60-\u6587\u4ef6\u7cfb\u7edf","slug":"/b4abd24b","permalink":"/b4abd24b","draft":false,"unlisted":false,"editUrl":"https://github.com/zxzsk/linux-cmd/docs/60-\u6587\u4ef6\u7cfb\u7edf/mkfs.md","tags":[],"version":"current","lastUpdatedAt":1742246204000,"frontMatter":{"slug":"/b4abd24b"},"sidebar":"\u6587\u4ef6\u7cfb\u7edf","previous":{"title":"mdadm","permalink":"/57b3a18a"},"next":{"title":"mount","permalink":"/cc6ea76f"}}');var l=n(4848),c=n(8453);const i={slug:"/b4abd24b"},r=void 0,t={},h=[{value:"1. \u7b80\u4ecb",id:"1-\u7b80\u4ecb",level:2},{value:"2. \u5e38\u89c1\u64cd\u4f5c\u6982\u89c8",id:"2-\u5e38\u89c1\u64cd\u4f5c\u6982\u89c8",level:2},{value:"3. \u547d\u4ee4\u793a\u4f8b",id:"3-\u547d\u4ee4\u793a\u4f8b",level:2},{value:"3.1 \u521b\u5efa ext4 \u6587\u4ef6\u7cfb\u7edf",id:"31-\u521b\u5efa-ext4-\u6587\u4ef6\u7cfb\u7edf",level:3},{value:"3.2 \u521b\u5efa vfat \u6587\u4ef6\u7cfb\u7edf",id:"32-\u521b\u5efa-vfat-\u6587\u4ef6\u7cfb\u7edf",level:3},{value:"3.3 \u521b\u5efa ntfs \u6587\u4ef6\u7cfb\u7edf",id:"33-\u521b\u5efa-ntfs-\u6587\u4ef6\u7cfb\u7edf",level:3},{value:"3.4 \u663e\u793a\u652f\u6301\u7684\u6587\u4ef6\u7cfb\u7edf",id:"34-\u663e\u793a\u652f\u6301\u7684\u6587\u4ef6\u7cfb\u7edf",level:3},{value:"4. \u5e38\u89c1\u9009\u9879\u8bf4\u660e",id:"4-\u5e38\u89c1\u9009\u9879\u8bf4\u660e",level:2},{value:"\u793a\u4f8b\uff1a\u5728\u5206\u533a\u4e0a\u521b\u5efa\u5e26\u6807\u7b7e\u7684 ext4 \u6587\u4ef6\u7cfb\u7edf",id:"\u793a\u4f8b\u5728\u5206\u533a\u4e0a\u521b\u5efa\u5e26\u6807\u7b7e\u7684-ext4-\u6587\u4ef6\u7cfb\u7edf",level:3},{value:"5. \u4f7f\u7528 mkfs \u65f6\u7684\u6ce8\u610f\u4e8b\u9879",id:"5-\u4f7f\u7528-mkfs-\u65f6\u7684\u6ce8\u610f\u4e8b\u9879",level:2},{value:"6. \u5c0f\u8d34\u58eb",id:"6-\u5c0f\u8d34\u58eb",level:2},{value:"7. \u603b\u7ed3",id:"7-\u603b\u7ed3",level:2}];function x(e){const s={a:"a",code:"code",h2:"h2",h3:"h3",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,c.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(s.p,{children:"\u2b50\u521b\u5efa\u6587\u4ef6\u7cfb\u7edf\u3001\u683c\u5f0f\u5316"}),"\n",(0,l.jsx)(s.h2,{id:"1-\u7b80\u4ecb",children:"1. \u7b80\u4ecb"}),"\n",(0,l.jsxs)(s.p,{children:[(0,l.jsx)(s.code,{children:"mkfs"}),' \u662f "make filesystem" \u7684\u7f29\u5199\uff0c\u610f\u4e3a\u201c\u521b\u5efa\u6587\u4ef6\u7cfb\u7edf\u201d\u3002\u5b83\u662f Linux \u7cfb\u7edf\u4e2d\u7528\u4e8e\u5728\u5206\u533a\u4e0a\u521b\u5efa\u6587\u4ef6\u7cfb\u7edf\u7684\u5de5\u5177\u3002\ud83d\udd27 ',(0,l.jsx)(s.code,{children:"mkfs"})," \u53ef\u4ee5\u5c06\u672a\u683c\u5f0f\u5316\u7684\u78c1\u76d8\u5206\u533a\u8f6c\u5316\u4e3a\u53ef\u7528\u7684\u6587\u4ef6\u7cfb\u7edf\uff0c\u652f\u6301\u591a\u79cd\u6587\u4ef6\u7cfb\u7edf\u7c7b\u578b\uff0c\u5982 ext4\u3001vfat\u3001ntfs \u7b49\u3002\u65e0\u8bba\u4f60\u662f\u9700\u8981\u683c\u5f0f\u5316\u65b0\u5206\u533a\uff0c\u8fd8\u662f\u91cd\u65b0\u683c\u5f0f\u5316\u73b0\u6709\u5206\u533a\uff0c",(0,l.jsx)(s.code,{children:"mkfs"})," \u90fd\u80fd\u5e2e\u4f60\u5b9e\u73b0\u3002"]}),"\n",(0,l.jsx)(s.h2,{id:"2-\u5e38\u89c1\u64cd\u4f5c\u6982\u89c8",children:"2. \u5e38\u89c1\u64cd\u4f5c\u6982\u89c8"}),"\n",(0,l.jsxs)(s.table,{children:[(0,l.jsx)(s.thead,{children:(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.th,{children:"\u64cd\u4f5c"}),(0,l.jsx)(s.th,{children:"\u547d\u4ee4\u683c\u5f0f"}),(0,l.jsx)(s.th,{children:"\u8bf4\u660e"})]})}),(0,l.jsxs)(s.tbody,{children:[(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:"\u521b\u5efa ext4 \u6587\u4ef6\u7cfb\u7edf"}),(0,l.jsx)(s.td,{children:(0,l.jsx)(s.code,{children:"sudo mkfs -t ext4 <\u8bbe\u5907\u540d>"})}),(0,l.jsx)(s.td,{children:"\u5728\u6307\u5b9a\u5206\u533a\u4e0a\u521b\u5efa ext4 \u6587\u4ef6\u7cfb\u7edf\u3002"})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:"\u521b\u5efa vfat \u6587\u4ef6\u7cfb\u7edf"}),(0,l.jsx)(s.td,{children:(0,l.jsx)(s.code,{children:"sudo mkfs -t vfat <\u8bbe\u5907\u540d>"})}),(0,l.jsx)(s.td,{children:"\u5728\u6307\u5b9a\u5206\u533a\u4e0a\u521b\u5efa vfat \u6587\u4ef6\u7cfb\u7edf\u3002"})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:"\u521b\u5efa ntfs \u6587\u4ef6\u7cfb\u7edf"}),(0,l.jsx)(s.td,{children:(0,l.jsx)(s.code,{children:"sudo mkfs -t ntfs <\u8bbe\u5907\u540d>"})}),(0,l.jsx)(s.td,{children:"\u5728\u6307\u5b9a\u5206\u533a\u4e0a\u521b\u5efa ntfs \u6587\u4ef6\u7cfb\u7edf\u3002"})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:"\u663e\u793a\u652f\u6301\u7684\u6587\u4ef6\u7cfb\u7edf"}),(0,l.jsx)(s.td,{children:(0,l.jsx)(s.code,{children:"mkfs -T"})}),(0,l.jsxs)(s.td,{children:["\u5217\u51fa ",(0,l.jsx)(s.code,{children:"mkfs"})," \u652f\u6301\u7684\u6240\u6709\u6587\u4ef6\u7cfb\u7edf\u7c7b\u578b\u3002"]})]}),(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{children:"\u663e\u793a\u5e2e\u52a9\u4fe1\u606f"}),(0,l.jsx)(s.td,{children:(0,l.jsx)(s.code,{children:"mkfs -h"})}),(0,l.jsxs)(s.td,{children:["\u663e\u793a ",(0,l.jsx)(s.code,{children:"mkfs"})," \u547d\u4ee4\u7684\u5e2e\u52a9\u4fe1\u606f\u3002"]})]})]})]}),"\n",(0,l.jsx)(s.h2,{id:"3-\u547d\u4ee4\u793a\u4f8b",children:"3. \u547d\u4ee4\u793a\u4f8b"}),"\n",(0,l.jsx)(s.h3,{id:"31-\u521b\u5efa-ext4-\u6587\u4ef6\u7cfb\u7edf",children:"3.1 \u521b\u5efa ext4 \u6587\u4ef6\u7cfb\u7edf"}),"\n",(0,l.jsxs)(s.p,{children:["\u8981\u5728 ",(0,l.jsx)(s.code,{children:"/dev/sda2"})," \u4e0a\u521b\u5efa ext4 \u6587\u4ef6\u7cfb\u7edf\uff1a"]}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-bash",children:"$ sudo mkfs -t ext4 /dev/sda2\n"})}),"\n",(0,l.jsx)(s.p,{children:"\u7ec8\u7aef\u8f93\u51fa\uff1a"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{children:"mke2fs 1.45.5 (07-Jan-2023)\nCreating filesystem with 244195040 4k blocks and 61054976 inodes\nFilesystem UUID: 1f3a7e9d-3c18-492a-983b-9e8b6e1a1b4f\nSuperblock backups stored on blocks: \n\t32768, 98304, 163840, 229376, 294912, 819200, 884736, 1605632, 2654208, \n\t4096000, 7962624, 11239424, 20480000, 23887872\n\nAllocating group tables: done                            \nWriting inode tables: done                            \nCreating journal (32768 blocks): done\nWriting superblocks and filesystem accounting information: done\n"})}),"\n",(0,l.jsx)(s.p,{children:"\u8fd9\u4f1a\u521b\u5efa\u4e00\u4e2a\u65b0\u7684 ext4 \u6587\u4ef6\u7cfb\u7edf\u3002\ud83d\udcc8"}),"\n",(0,l.jsx)(s.h3,{id:"32-\u521b\u5efa-vfat-\u6587\u4ef6\u7cfb\u7edf",children:"3.2 \u521b\u5efa vfat \u6587\u4ef6\u7cfb\u7edf"}),"\n",(0,l.jsxs)(s.p,{children:["\u8981\u5728 ",(0,l.jsx)(s.code,{children:"/dev/sda3"})," \u4e0a\u521b\u5efa vfat \u6587\u4ef6\u7cfb\u7edf\uff1a"]}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-bash",children:"$ sudo mkfs -t vfat /dev/sda3\n"})}),"\n",(0,l.jsx)(s.h3,{id:"33-\u521b\u5efa-ntfs-\u6587\u4ef6\u7cfb\u7edf",children:"3.3 \u521b\u5efa ntfs \u6587\u4ef6\u7cfb\u7edf"}),"\n",(0,l.jsxs)(s.p,{children:["\u8981\u5728 ",(0,l.jsx)(s.code,{children:"/dev/sda4"})," \u4e0a\u521b\u5efa ntfs \u6587\u4ef6\u7cfb\u7edf\uff1a"]}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-bash",children:"$ sudo mkfs -t ntfs /dev/sda4\n"})}),"\n",(0,l.jsx)(s.h3,{id:"34-\u663e\u793a\u652f\u6301\u7684\u6587\u4ef6\u7cfb\u7edf",children:"3.4 \u663e\u793a\u652f\u6301\u7684\u6587\u4ef6\u7cfb\u7edf"}),"\n",(0,l.jsxs)(s.p,{children:["\u8981\u67e5\u770b ",(0,l.jsx)(s.code,{children:"mkfs"})," \u652f\u6301\u7684\u6240\u6709\u6587\u4ef6\u7cfb\u7edf\u7c7b\u578b\uff1a"]}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-bash",children:"$ mkfs -T\n"})}),"\n",(0,l.jsx)(s.p,{children:"\u7ec8\u7aef\u8f93\u51fa\uff1a"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{children:"Supported filesystems:\n    btrfs\n    ext2\n    ext3\n    ext4\n    fat\n    msdos\n    ntfs\n    vfat\n    xfs\n"})}),"\n",(0,l.jsx)(s.h2,{id:"4-\u5e38\u89c1\u9009\u9879\u8bf4\u660e",children:"4. \u5e38\u89c1\u9009\u9879\u8bf4\u660e"}),"\n",(0,l.jsxs)(s.ul,{children:["\n",(0,l.jsxs)(s.li,{children:[(0,l.jsxs)(s.strong,{children:[(0,l.jsx)(s.code,{children:"-t"})," \u6216 ",(0,l.jsx)(s.code,{children:"--type"})]}),"\uff1a\u6307\u5b9a\u6587\u4ef6\u7cfb\u7edf\u7c7b\u578b\u3002"]}),"\n",(0,l.jsxs)(s.li,{children:[(0,l.jsxs)(s.strong,{children:[(0,l.jsx)(s.code,{children:"-L"})," \u6216 ",(0,l.jsx)(s.code,{children:"--label"})]}),"\uff1a\u4e3a\u6587\u4ef6\u7cfb\u7edf\u6307\u5b9a\u6807\u7b7e\u3002"]}),"\n",(0,l.jsxs)(s.li,{children:[(0,l.jsxs)(s.strong,{children:[(0,l.jsx)(s.code,{children:"-c"})," \u6216 ",(0,l.jsx)(s.code,{children:"--check"})]}),"\uff1a\u5728\u521b\u5efa\u6587\u4ef6\u7cfb\u7edf\u4e4b\u524d\u68c0\u67e5\u78c1\u76d8\u662f\u5426\u6709\u574f\u5757\u3002"]}),"\n",(0,l.jsxs)(s.li,{children:[(0,l.jsxs)(s.strong,{children:[(0,l.jsx)(s.code,{children:"-h"})," \u6216 ",(0,l.jsx)(s.code,{children:"--help"})]}),"\uff1a\u663e\u793a\u5e2e\u52a9\u4fe1\u606f\uff0c\u5e2e\u52a9\u4f60\u4e86\u89e3 ",(0,l.jsx)(s.code,{children:"mkfs"})," \u547d\u4ee4\u7684\u7528\u6cd5\u3002"]}),"\n"]}),"\n",(0,l.jsx)(s.h3,{id:"\u793a\u4f8b\u5728\u5206\u533a\u4e0a\u521b\u5efa\u5e26\u6807\u7b7e\u7684-ext4-\u6587\u4ef6\u7cfb\u7edf",children:"\u793a\u4f8b\uff1a\u5728\u5206\u533a\u4e0a\u521b\u5efa\u5e26\u6807\u7b7e\u7684 ext4 \u6587\u4ef6\u7cfb\u7edf"}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-bash",children:'$ sudo mkfs -t ext4 -L "Data" /dev/sda2\n'})}),"\n",(0,l.jsxs)(s.p,{children:["\u8fd9\u4f1a\u5728 ",(0,l.jsx)(s.code,{children:"/dev/sda2"}),' \u4e0a\u521b\u5efa\u4e00\u4e2a\u5e26\u6709 "Data" \u6807\u7b7e\u7684 ext4 \u6587\u4ef6\u7cfb\u7edf\u3002\ud83d\udcdd']}),"\n",(0,l.jsx)(s.h2,{id:"5-\u4f7f\u7528-mkfs-\u65f6\u7684\u6ce8\u610f\u4e8b\u9879",children:"5. \u4f7f\u7528 mkfs \u65f6\u7684\u6ce8\u610f\u4e8b\u9879"}),"\n",(0,l.jsxs)(s.ul,{children:["\n",(0,l.jsxs)(s.li,{children:[(0,l.jsx)(s.strong,{children:"\u5907\u4efd\u6570\u636e"}),"\uff1a\u5728\u8fdb\u884c\u683c\u5f0f\u5316\u64cd\u4f5c\u4e4b\u524d\uff0c\u52a1\u5fc5\u5907\u4efd\u91cd\u8981\u6570\u636e\uff0c\u56e0\u4e3a\u683c\u5f0f\u5316\u4f1a\u6e05\u7a7a\u5206\u533a\u4e0a\u7684\u6240\u6709\u6570\u636e\u3002\ud83d\udcbe"]}),"\n",(0,l.jsxs)(s.li,{children:[(0,l.jsx)(s.strong,{children:"\u5206\u533a\u5927\u5c0f"}),"\uff1a\u786e\u4fdd\u5206\u533a\u5927\u5c0f\u9002\u5408\u4f60\u9009\u62e9\u7684\u6587\u4ef6\u7cfb\u7edf\u7c7b\u578b\u3002"]}),"\n",(0,l.jsxs)(s.li,{children:[(0,l.jsx)(s.strong,{children:"\u6587\u4ef6\u7cfb\u7edf\u7c7b\u578b"}),"\uff1a\u6839\u636e\u4f60\u7684\u9700\u6c42\u9009\u62e9\u5408\u9002\u7684\u6587\u4ef6\u7cfb\u7edf\u7c7b\u578b\u3002"]}),"\n",(0,l.jsxs)(s.li,{children:[(0,l.jsx)(s.strong,{children:"\u5206\u533a\u5bf9\u9f50"}),"\uff1a\u786e\u4fdd\u5206\u533a\u5bf9\u9f50\uff0c\u4ee5\u63d0\u9ad8\u78c1\u76d8\u6027\u80fd\u3002"]}),"\n",(0,l.jsxs)(s.li,{children:[(0,l.jsx)(s.strong,{children:"UUID"}),"\uff1a\u6bcf\u4e2a\u6587\u4ef6\u7cfb\u7edf\u521b\u5efa\u65f6\u90fd\u4f1a\u751f\u6210\u4e00\u4e2a\u552f\u4e00\u7684 UUID\uff0c\u53ef\u4ee5\u4f7f\u7528 ",(0,l.jsx)(s.code,{children:"blkid"})," \u547d\u4ee4\u67e5\u770b\u3002"]}),"\n"]}),"\n",(0,l.jsx)(s.h2,{id:"6-\u5c0f\u8d34\u58eb",children:"6. \u5c0f\u8d34\u58eb"}),"\n",(0,l.jsxs)(s.ul,{children:["\n",(0,l.jsxs)(s.li,{children:[(0,l.jsxs)(s.strong,{children:["\u4f7f\u7528 ",(0,l.jsx)(s.code,{children:"mkfs -T"})," \u67e5\u770b\u652f\u6301\u7684\u6587\u4ef6\u7cfb\u7edf"]}),"\uff1a\u8fd9\u662f\u5feb\u901f\u4e86\u89e3 ",(0,l.jsx)(s.code,{children:"mkfs"})," \u652f\u6301\u7684\u6587\u4ef6\u7cfb\u7edf\u7c7b\u578b\u7684\u597d\u65b9\u6cd5\u3002\ud83d\udd0d"]}),"\n",(0,l.jsxs)(s.li,{children:[(0,l.jsx)(s.strong,{children:"\u5206\u533a\u6302\u8f7d"}),"\uff1a\u5728\u521b\u5efa\u6587\u4ef6\u7cfb\u7edf\u540e\uff0c\u8bb0\u5f97\u4f7f\u7528 ",(0,l.jsx)(s.code,{children:"mount"})," \u547d\u4ee4\u5c06\u5206\u533a\u6302\u8f7d\u5230\u6587\u4ef6\u7cfb\u7edf\u4e2d\uff1a"]}),"\n"]}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-bash",children:"$ sudo mount /dev/sda2 /mnt\n"})}),"\n",(0,l.jsx)(s.h2,{id:"7-\u603b\u7ed3",children:"7. \u603b\u7ed3"}),"\n",(0,l.jsxs)(s.p,{children:[(0,l.jsx)(s.code,{children:"mkfs"})," \u547d\u4ee4\u662f Linux \u7cfb\u7edf\u4e2d\u7528\u4e8e\u521b\u5efa\u6587\u4ef6\u7cfb\u7edf\u7684\u5f3a\u5927\u5de5\u5177\u3002\u5b83\u53ef\u4ee5\u5c06\u672a\u683c\u5f0f\u5316\u7684\u78c1\u76d8\u5206\u533a\u8f6c\u5316\u4e3a\u53ef\u7528\u7684\u6587\u4ef6\u7cfb\u7edf\uff0c\u652f\u6301\u591a\u79cd\u6587\u4ef6\u7cfb\u7edf\u7c7b\u578b\uff0c\u5e2e\u52a9\u4f60\u66f4\u597d\u5730\u7ba1\u7406\u7cfb\u7edf\u7684\u5b58\u50a8\u8d44\u6e90\u3002\ud83c\udfaf"]}),"\n",(0,l.jsx)(s.hr,{}),"\n",(0,l.jsxs)(s.p,{children:["\u52a0\u6cb9\uff0c\u7ee7\u7eed\u5728\u547d\u4ee4\u884c\u4e2d\u63a2\u7d22\u65b0\u6280\u80fd\uff01\ud83d\udcaa\ud83c\udffb \u522b\u5fd8\u4e86\u6536\u85cf\u5728\u7ebf\u77e5\u8bc6\u5e93\uff08",(0,l.jsx)(s.a,{href:"http://www.zxzsk.com",children:"www.zxzsk.com"}),"\uff09\uff0c\u8ba9\u66f4\u591a\u6709\u7528\u7684\u77e5\u8bc6\u4e3a\u4f60\u63d0\u4f9b\u5e2e\u52a9\uff01\ud83d\ude0a"]}),"\n",(0,l.jsx)(s.p,{children:"\u7ee7\u7eed\u63a2\u7d22\uff0c\u4f60\u5df2\u7ecf\u5f88\u68d2\u5566\uff01\ud83c\udf1f"})]})}function o(e={}){const{wrapper:s}={...(0,c.R)(),...e.components};return s?(0,l.jsx)(s,{...e,children:(0,l.jsx)(x,{...e})}):x(e)}},8453:(e,s,n)=>{n.d(s,{R:()=>i,x:()=>r});var d=n(6540);const l={},c=d.createContext(l);function i(e){const s=d.useContext(c);return d.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function r(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:i(e.components),d.createElement(c.Provider,{value:s},e.children)}}}]);
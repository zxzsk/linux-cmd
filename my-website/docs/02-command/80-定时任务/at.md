⭐⭐日期任务（一次性任务）

## 1. 简介

`at` 命令用于在指定的时间执行一次性任务。它允许用户将命令或脚本安排在未来某个特定时间自动执行，非常适合定时执行某些操作。⏳

你可以使用 `sudo apt install at` 安装它。

## 2. 常见操作概览 📋

| 操作                             | 命令格式                          | 说明                                |
|----------------------------------|-----------------------------------|-------------------------------------|
| 安排任务执行                     | `at <时间>`                       | 安排任务在指定时间执行。             |
| 查看已安排的任务                 | `atq`                             | 查看当前用户的所有已排定任务。       |
| 删除已安排的任务                 | `atrm <任务ID>`                   | 删除指定的排定任务。                 |
| 执行命令                         | `echo <命令> \| at <时间>`      | 在指定时间执行命令。                 |

## 3. 命令示例 ⚡

### 3.1 安排任务执行

例如，要安排一个命令在明天下午 3 点执行：

```bash
$ at 3pm tomorrow
```

系统会提示你输入要执行的命令，输入完后按 `Ctrl+D` 保存任务。例如：

```bash
$ echo "echo 'Hello, World!'" > /tmp/hello.txt
```

然后按 `Ctrl+D` 退出，任务就会在明天下午 3 点执行。

### 3.2 查看已安排的任务

使用 `atq` 命令可以查看当前用户已排定的所有任务：

```bash
$ atq
```

输出示例：

```bash
1   2024-11-18 15:00 a user
```

### 3.3 删除已安排的任务

要删除一个排定的任务，使用 `atrm` 命令并指定任务 ID：

```bash
$ atrm 1
```

这将删除任务 ID 为 1 的排定任务。

### 3.4 使用 `echo` 安排任务

你可以使用 `echo` 命令将任务添加到 `at` 排程。例如，安排一个简单的命令在 5 分钟后执行：

```bash
$ echo "echo 'Task executed!'" | at now + 5 minutes
```

此命令将在 5 分钟后执行并输出 `Task executed!`。

## 4. 时间格式 📅

`at` 命令支持多种时间格式，常见的有：

- **小时与分钟**：`at 3pm` 或 `at 15:00`
- **日期**：`at 3pm 11/18`
- **相对时间**：`at now + 2 hours` 或 `at now + 5 minutes`
- **明天**：`at 3pm tomorrow`
- **下周**：`at 9am next Monday`

## 5. 小贴士 💡

- **权限**：在一些系统中，`at` 可能需要 root 权限，特别是在使用 `atq` 或 `atrm` 查看或删除其他用户的任务时。
- **交互模式**：在输入命令后，`at` 会进入交互模式，允许你逐行输入命令。输入完成后使用 `Ctrl+D` 保存任务。

## 6. 总结 🎯

`at` 命令是一个非常有用的工具，能够让你在未来的某个特定时间自动执行任务。它特别适合那些不需要定期执行的任务或脚本。通过 `at`，你可以轻松安排一次性操作，提高工作效率。⚡

希望这篇教程帮助你了解如何使用 `at` 命令安排任务！别忘了收藏**在线知识库**（ [www.zxzsk.com](http://www.zxzsk.com) ）哦！😊
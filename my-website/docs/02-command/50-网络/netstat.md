---
slug: /8abe08b6
---
网络监控工具

`netstat` 是一款强大的网络监控工具，用于查看系统的网络连接、路由、接口状态等信息。除了基础的网络状态查看，掌握一些实用的 `netstat` 使用技巧，可以帮助你更高效地进行网络故障排查和性能优化！



## 1. 只显示监听的端口 👂

如果你只关心系统中处于监听状态的端口，可以使用 `-l` 选项：

```bash
netstat -l
```

如果想查看 TCP 和 UDP 的监听端口，可以使用：

```bash
netstat -tuln
```

**实用小贴士：**  
`-t` 选项表示显示 TCP 连接，`-u` 显示 UDP 连接，`-l` 显示监听端口，`-n` 显示数字形式的地址和端口（不进行域名解析），这样可以更快速查看监听的服务。

---

## 2. 查看每个连接的 PID 和程序 🕵️‍♂️

如果你需要查看每个网络连接对应的进程信息，可以使用 `-p` 选项：

```bash
netstat -p
```

输出示例：

```bash
Proto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program name
tcp        0      0 0.0.0.0:22              0.0.0.0:*               LISTEN      1234/sshd
```

**实用小贴士：**  
使用 `-p` 选项，你可以看到与每个连接相关联的进程 ID (PID) 和进程名，从而帮助你更容易地找到占用端口的程序，进行故障排查。

---

## 3. 显示所有网络连接和端口信息 🔍

要查看系统中所有的网络连接（包括 TCP 和 UDP），并且显示所有端口，可以组合使用 `-a` 和 `-n` 选项：

```bash
netstat -an
```

**实用小贴士：**  
使用 `-a` 选项查看所有连接，`-n` 选项会显示数字形式的地址，避免了因域名解析而导致的延迟，适合在网络连接数较多时使用。

---

## 4. 查看每个网络接口的流量统计 📊

如果你想查看系统中每个网络接口的详细流量统计，可以使用 `-i` 选项：

```bash
netstat -i
```

输出示例：

```bash
Kernel Interface table
Iface     MTU   RX-OK RX-ERR RX-DRP RX-OVR TX-OK TX-ERR TX-DRP TX-OVR Flg
eth0      1500  10000      0      0      0  20000      0      0      0 BMRU
```

**实用小贴士：**  
查看网络接口的统计信息，可以帮助你了解每个接口的流量、错误率和丢包率。对于性能优化和故障排查非常有用。

---

## 5. 查看路由表和网络路由信息 🛣️

要查看系统的路由表，可以使用 `-r` 选项：

```bash
netstat -r
```

**实用小贴士：**  
通过查看路由表，你可以确认系统的网络流量如何转发、使用哪个网关，帮助分析网络连接的问题。

---

## 6. 定期查看网络连接状态 ⏲️

要定期查看网络状态，可以通过 `watch` 命令结合 `netstat` 使用：

```bash
watch -n 1 netstat -tuln
```

该命令会每秒刷新一次 `netstat` 命令的输出，让你实时监控端口的使用情况。

**实用小贴士：**  
`watch` 命令会定期执行 `netstat`，非常适合需要监控变化的场景，如监控某个服务的端口是否被占用或监测某个进程的网络状态。

---

## 7. 排查网络故障：查看活跃连接状态 🔧

如果你正在排查网络问题，查看当前活动的连接状态是非常重要的。你可以使用 `-t` 选项查看所有 TCP 连接的状态：

```bash
netstat -t
```

或者使用 `-u` 查看 UDP 连接：

```bash
netstat -u
```

**实用小贴士：**  
查看当前活动连接状态，可以帮助你识别出是否有异常连接或意外的流量。对于排查 DDoS 攻击或其他网络攻击很有帮助。

---

## 8. 查看网络连接的数量 🔢

如果你只想查看当前网络连接的数量，可以使用 `-c` 选项来输出连接的总数：

```bash
netstat -c
```

这个命令会定期输出系统的网络连接数，适用于需要实时监控连接数变化的场景。

---

## 9. 使用 netstat 与其他工具组合 🚀

`netstat` 可以与其他命令组合，增强其功能。例如，结合 `grep` 可以根据特定的地址或进程过滤网络连接：

```bash
netstat -an | grep 80
```

这将显示所有与端口 80（HTTP 端口）相关的网络连接。

---

## 10. 总结 🌟

掌握这些 `netstat` 实用技巧，可以帮助你高效地监控网络连接、诊断网络问题、查看端口使用情况等。无论是进行网络故障排查，还是进行网络性能优化，`netstat` 都是一个非常有用的工具。🛠️

希望这些实用技巧对你有所帮助！记得随时查看网络连接状态，保持系统的稳定与健康！🌱

希望这些技巧能够提升你的网络管理能力！别忘了收藏**在线知识库**（ [www.zxzsk.com](http://www.zxzsk.com) ）哦！😊


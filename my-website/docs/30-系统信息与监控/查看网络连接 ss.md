---
description: 掌握一些实用的 ss 命令技巧，提升网络监控和故障排查效率
---



`ss`（Socket Stat）是 Linux 系统中用于查看网络连接状态的强大工具，它比 `netstat` 更加高效和灵活。通过 `ss`，你可以快速获取网络连接、端口监听、套接字统计等信息。熟练掌握 `ss` 的一些实用技巧，可以让你在网络排错、性能监控等任务中更加得心应手！⚡

让我们一起来看看一些实用的 `ss` 使用技巧吧！✨

## 1. 查看所有网络连接 🔍

如果你想查看系统中所有的网络连接（包括 TCP、UDP、UNIX 套接字等），可以使用：

```bash
ss -a
```

这将列出所有的连接状态，包括监听端口、已建立的连接等。

**实用小贴士：**  
如果你只关心 TCP 连接，可以加上 `-t` 选项：

```bash
ss -at
```

要查看 UDP 连接，加上 `-u`：

```bash
ss -au
```

---

## 2. 查看监听的端口 🔧

如果你只想查看系统中处于监听状态的端口，可以使用 `-l` 选项：

```bash
ss -l
```

如果要查看监听的 TCP 和 UDP 端口，可以使用：

```bash
ss -tuln
```

**实用小贴士：**  
使用 `-n` 可以强制显示数字地址，而不进行 DNS 查询，避免延迟。

---

## 3. 查看特定端口的连接 🔢

如果你想查看某个特定端口的网络连接，可以使用 `sport`（源端口）或 `dport`（目标端口）过滤：

```bash
ss -tuln sport = :80
```

这个命令会显示所有源端口为 80 的 TCP 连接。

**实用小贴士：**  
你也可以通过 `dport` 来过滤目标端口：

```bash
ss -tuln dport = :443
```

这将列出所有目标端口为 443（通常用于 HTTPS）的连接。

---

## 4. 显示进程 PID 和程序名 📋

如果你希望查看每个网络连接的进程 ID (PID) 和对应的程序名称，可以使用 `-p` 选项：

```bash
ss -p
```

这个命令将列出所有连接，并显示与每个连接相关联的进程信息。

**实用小贴士：**  
如果你只关心某个特定进程，可以配合 `grep` 来过滤：

```bash
ss -p | grep <process-name>
```

---

## 5. 显示 TCP 状态信息 📊

如果你只想查看 TCP 连接的状态，可以使用 `-t` 选项，然后加上 `state` 过滤条件来查看特定状态的连接。例如，查看处于 `ESTABLISHED` 状态的连接：

```bash
ss -t state established
```

你还可以查看 `LISTEN`、`SYN-SENT`、`SYN-RECV` 等状态的连接：

```bash
ss -t state listen
```

---

## 6. 查看 UNIX 套接字连接 🖥️

`ss` 不仅仅可以用于查看网络连接，它也支持 UNIX 套接字。要查看 UNIX 套接字连接，可以使用 `-x` 选项：

```bash
ss -x
```

这个命令将显示当前的 UNIX 套接字连接，适用于与本地服务（如数据库、应用程序）之间的通信。

---

## 7. 定期查看网络连接状态 ⏲️

要定期刷新网络连接状态，可以使用 `watch` 命令结合 `ss`：

```bash
watch -n 1 ss -tuln
```

这将每秒刷新一次网络连接状态，让你实时监控端口的使用情况。

---

## 8. 显示网络接口的统计信息 📈

如果你想查看网络接口的详细统计信息，可以使用 `ss` 的 `-i` 选项：

```bash
ss -i
```

该命令会显示每个网络连接的详细统计信息，如接收和发送的字节数、错误数、丢包等。

---

## 9. 排查网络故障：查看所有连接数 🧰

在排查网络故障时，查看当前的网络连接数是非常有帮助的。使用 `ss` 的 `-s` 选项，你可以快速查看网络状态的摘要：

```bash
ss -s
```

输出示例：

```bash
Total: 100 (TCP: 50, UDP: 40, RAW: 10)
```

这个命令将汇总显示系统中所有协议类型的连接数。

---

## 10. 高级过滤：通过 IP 地址过滤连接 🌍

你可以通过 `src` 和 `dst` 选项来过滤特定 IP 地址的连接。例如，查看源地址为 `192.168.1.100` 的所有连接：

```bash
ss -tuln src 192.168.1.100
```

或者查看目标地址为 `192.168.1.101` 的所有连接：

```bash
ss -tuln dst 192.168.1.101
```

---

## 总结 🌟

`ss` 是一个功能强大的网络工具，通过它，你可以轻松查看系统的网络连接、端口监听、套接字状态等信息。结合上述技巧，你可以高效地进行网络排查、性能监控和故障诊断。

希望这些技巧能帮助你快速掌握 `ss` 的使用，提升网络管理和排错的效率！🚀

希望这篇教程对你有所帮助！记得收藏**在线知识库**（ [www.zxzsk.com](http://www.zxzsk.com) ）哦！😊

---
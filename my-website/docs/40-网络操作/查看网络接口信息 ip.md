---
description: å­¦ä¹ å¦‚ä½•ä½¿ç”¨ ip å‘½ä»¤ç®¡ç†ç½‘ç»œé…ç½®
---



`ip` å‘½ä»¤æ˜¯ Linux ç³»ç»Ÿä¸­ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„ç½‘ç»œç®¡ç†å·¥å…·ï¼Œç”¨äºæ˜¾ç¤ºå’Œé…ç½®ç½‘ç»œæ¥å£ã€è·¯ç”±ã€åœ°å€ã€é“¾è·¯ç­‰ã€‚å®ƒæ˜¯ `ifconfig` å’Œ `route` å‘½ä»¤çš„ç°ä»£æ›¿ä»£å·¥å…·ï¼Œæä¾›äº†æ›´åŠ ä¸°å¯Œå’Œçµæ´»çš„ç½‘ç»œç®¡ç†åŠŸèƒ½ã€‚ğŸ› ï¸

ä»Šå¤©ï¼Œæˆ‘ä»¬å°†å¸¦ä½ ä¸€èµ·æ¢ç´¢ `ip` å‘½ä»¤çš„å¸¸ç”¨åŠŸèƒ½ï¼Œè®©ä½ å¿«é€ŸæŒæ¡å®ƒçš„ä½¿ç”¨æŠ€å·§ï¼ğŸš€

## 1. åŸºæœ¬ç”¨æ³•ï¼šæŸ¥çœ‹ç½‘ç»œæ¥å£

### æŸ¥çœ‹æ‰€æœ‰ç½‘ç»œæ¥å£

è¦æŸ¥çœ‹ç³»ç»Ÿä¸­æ‰€æœ‰ç½‘ç»œæ¥å£çš„è¯¦ç»†ä¿¡æ¯ï¼Œå¯ä»¥ä½¿ç”¨ `ip a` æˆ– `ip addr` å‘½ä»¤ï¼š

```bash
ip a
```

æ¨¡æ‹Ÿè¾“å‡ºï¼š

```bash
3: eth0: <BROADCAST,MULTICAST> mtu 1500 qdisc fq_codel state UP group default qlen 1000
    inet 192.168.1.100/24 brd 192.168.1.255 scope global eth0
       valid_lft forever preferred_lft forever
    inet6 fe80::d4a8:abcd:5678:efgh/64 scope link
       valid_lft forever preferred_lft forever
```

è¾“å‡ºè§£é‡Šï¼š
- **eth0**ï¼šç½‘ç»œæ¥å£åç§°ã€‚
- **inet**ï¼šIPv4 åœ°å€ï¼Œåé¢æ˜¯å­ç½‘æ©ç ã€‚
- **inet6**ï¼šIPv6 åœ°å€ã€‚

### æŸ¥çœ‹å•ä¸ªç½‘ç»œæ¥å£

å¦‚æœä½ åªå…³å¿ƒæŸä¸ªç‰¹å®šæ¥å£çš„è¯¦ç»†ä¿¡æ¯ï¼Œå¯ä»¥æŒ‡å®šæ¥å£åï¼š

```bash
ip addr show eth0
```

## 2. é…ç½® IP åœ°å€

### è®¾ç½® IPv4 åœ°å€

è¦ä¸ºæŸä¸ªç½‘ç»œæ¥å£é…ç½® IP åœ°å€ï¼Œä½¿ç”¨ `ip addr add` å‘½ä»¤ï¼š

```bash
sudo ip addr add 192.168.1.200/24 dev eth0
```

è¿™ä¸ªå‘½ä»¤ä¸º `eth0` æ¥å£é…ç½®äº† `192.168.1.200` çš„ IPv4 åœ°å€ã€‚

### åˆ é™¤ IP åœ°å€

å¦‚æœä½ éœ€è¦åˆ é™¤å·²é…ç½®çš„ IP åœ°å€ï¼Œå¯ä»¥ä½¿ç”¨ `ip addr del` å‘½ä»¤ï¼š

```bash
sudo ip addr del 192.168.1.200/24 dev eth0
```

## 3. é…ç½®ç½‘ç»œæ¥å£

### å¯åŠ¨ç½‘ç»œæ¥å£

ä½¿ç”¨ `ip link set` å‘½ä»¤å¯åŠ¨ç½‘ç»œæ¥å£ï¼š

```bash
sudo ip link set eth0 up
```

### ç¦ç”¨ç½‘ç»œæ¥å£

å¦‚æœéœ€è¦ç¦ç”¨æ¥å£ï¼Œä½¿ç”¨ï¼š

```bash
sudo ip link set eth0 down
```

## 4. é…ç½®è·¯ç”±

### æŸ¥çœ‹å½“å‰è·¯ç”±è¡¨

è¦æŸ¥çœ‹ç³»ç»Ÿå½“å‰çš„è·¯ç”±è¡¨ï¼Œå¯ä»¥ä½¿ç”¨ `ip route` å‘½ä»¤ï¼š

```bash
ip route
```

æ¨¡æ‹Ÿè¾“å‡ºï¼š

```bash
default via 192.168.1.1 dev eth0
192.168.1.0/24 dev eth0 proto kernel scope link src 192.168.1.100
```

### æ·»åŠ è·¯ç”±

è¦æ·»åŠ æ–°çš„è·¯ç”±ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š

```bash
sudo ip route add 10.0.0.0/24 via 192.168.1.1
```

è¿™ä¸ªå‘½ä»¤ä¼šå°† `10.0.0.0/24` ç½‘ç»œçš„æµé‡é€šè¿‡ `192.168.1.1` ç½‘å…³å‘é€ã€‚

### åˆ é™¤è·¯ç”±

å¦‚æœä½ éœ€è¦åˆ é™¤æŸä¸ªè·¯ç”±ï¼Œå¯ä»¥ä½¿ç”¨ `ip route del` å‘½ä»¤ï¼š

```bash
sudo ip route del 10.0.0.0/24
```

## 5. é…ç½®é»˜è®¤ç½‘å…³

è¦è®¾ç½®é»˜è®¤ç½‘å…³ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š

```bash
sudo ip route add default via 192.168.1.1
```

è¿™å°†ä¼šæŠŠé»˜è®¤ç½‘å…³è®¾ç½®ä¸º `192.168.1.1`ã€‚

<details>
<summary>åˆ é™¤é»˜è®¤è·¯ç”±</summary>
```bash
sudo ip route del default via 192.168.1.1
```
</details>


:::info ç§‘å­¦ä¸Šç½‘
    å‡è®¾ä½ å·²ç»åœ¨å†…ç½‘æ­å»ºäº†æ—è·¯ç”±ï¼ˆv2rayAï¼‰ï¼Œå¹¶å°†å…¶IPè®¾ç½®ä¸º192.168.10.2ï¼ˆéšä¾¿ï¼‰ï¼Œåªéœ€å°†ä¸Šç½‘è®¾å¤‡çš„ç½‘å…³æŒ‡å‘è¯¥IPï¼Œå°±èƒ½å®ç°ç§‘å­¦ä¸Šç½‘ã€‚

    ç”µè„‘å¯ä»¥é€šè¿‡æ‰§è¡Œ `ip route add default via 192.168.10.2` æ¥åˆ‡æ¢åˆ°æ—è·¯ç”±ï¼Œä½¿ç”¨å®Œæ¯•åï¼Œæ‰§è¡Œ `ip route del default via 192.168.10.2` å³å¯æ¢å¤åˆ°ä¸»è·¯ç”±ã€‚
:::


## 6. é…ç½®å’ŒæŸ¥çœ‹ ARP ç¼“å­˜

### æŸ¥çœ‹ ARP ç¼“å­˜

ARPï¼ˆåœ°å€è§£æåè®®ï¼‰ç¼“å­˜ä¿å­˜äº† IP åœ°å€ä¸ç‰©ç†åœ°å€ï¼ˆMAC åœ°å€ï¼‰çš„æ˜ å°„ã€‚æŸ¥çœ‹ ARP ç¼“å­˜å¯ä»¥ä½¿ç”¨ï¼š

```bash
ip neigh
```

æ¨¡æ‹Ÿè¾“å‡ºï¼š

```bash
192.168.1.1 dev eth0 lladdr 00:1a:2b:3c:4d:5e REACHABLE
```

### åˆ é™¤ ARP ç¼“å­˜

è¦åˆ é™¤æŒ‡å®šçš„ ARP ç¼“å­˜æ¡ç›®ï¼Œå¯ä»¥ä½¿ç”¨ï¼š

```bash
sudo ip neigh del 192.168.1.1 dev eth0
```

## 7. é…ç½® IPv6 åœ°å€

### è®¾ç½® IPv6 åœ°å€

é…ç½® IPv6 åœ°å€çš„æ–¹å¼ä¸ IPv4 ç±»ä¼¼ï¼š

```bash
sudo ip addr add 2001:db8::1/64 dev eth0
```

### åˆ é™¤ IPv6 åœ°å€

åˆ é™¤ IPv6 åœ°å€ï¼š

```bash
sudo ip addr del 2001:db8::1/64 dev eth0
```

## 8. é«˜çº§ç”¨æ³•

### é…ç½®å¤šä¸ª IP åœ°å€

`ip` å‘½ä»¤æ”¯æŒä¸ºä¸€ä¸ªæ¥å£é…ç½®å¤šä¸ª IP åœ°å€ã€‚ä¾‹å¦‚ï¼š

```bash
sudo ip addr add 192.168.1.201/24 dev eth0
sudo ip addr add 192.168.1.202/24 dev eth0
```

### è®¾ç½®è·¯ç”±ç­–ç•¥

`ip` å‘½ä»¤å…è®¸ä½ ä¸ºä¸åŒçš„æµé‡è®¾ç½®è·¯ç”±ç­–ç•¥ã€‚ä¾‹å¦‚ï¼Œè·¯ç”±åˆ° `10.0.0.0/24` ç½‘ç»œçš„æµé‡ä½¿ç”¨ä¸åŒçš„è·¯ç”±è¡¨ï¼š

```bash
sudo ip route add 10.0.0.0/24 via 192.168.1.1 table 100
```

## 9. æ€»ç»“

`ip` å‘½ä»¤æ˜¯ Linux ä¸­ä¸€ä¸ªå¼ºå¤§ä¸”çµæ´»çš„ç½‘ç»œç®¡ç†å·¥å…·ã€‚å®ƒä¸ä»…å¯ä»¥æŸ¥çœ‹å’Œé…ç½®ç½‘ç»œæ¥å£ã€IP åœ°å€ã€è·¯ç”±ç­‰ï¼Œè¿˜æ”¯æŒå¤æ‚çš„ç½‘ç»œç®¡ç†æ“ä½œã€‚é€šè¿‡æŒæ¡ `ip` å‘½ä»¤ï¼Œä½ å°†èƒ½å¤Ÿæ›´åŠ é«˜æ•ˆåœ°ç®¡ç†å’Œè°ƒè¯• Linux ç³»ç»Ÿä¸­çš„ç½‘ç»œé…ç½®ã€‚

å¸Œæœ›è¿™ç¯‡æ•™ç¨‹å¸®åŠ©ä½ å¿«é€ŸæŒæ¡ `ip` å‘½ä»¤çš„åŸºæœ¬ç”¨æ³•ï¼Œå¹¶æ¿€å‘ä½ æ¢ç´¢æ›´å¤šé«˜çº§åŠŸèƒ½ï¼ğŸš€

å¸Œæœ›è¿™ç¯‡æ•™ç¨‹å¯¹ä½ æœ‰æ‰€å¸®åŠ©ï¼åˆ«å¿˜äº†æ”¶è—**åœ¨çº¿çŸ¥è¯†åº“**ï¼ˆ [www.zxzsk.com](http://www.zxzsk.com) ï¼‰å“¦ï¼ğŸ˜Š

